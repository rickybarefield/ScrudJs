// Generated by CoffeeScript 1.3.3
(function() {
  var WebSocket, WebSocketClient;

  WebSocketClient = require('websocket').client;

  WebSocket = (function() {

    function WebSocket(uri) {
      var _this = this;
      this.socket = new WebSocketClient();
      this.socket.on('connect', function() {
        if ((_this.onopen != null)) {
          return _this.onopen.call(arguments);
        } else {
          return console.log("onopen was not defined so could not be called");
        }
      });
      this.socket.on('message', function() {
        if ((_this.onmessage != null)) {
          return _this.onmessage.call(arguments);
        } else {
          return console.log("onmessage was not defined so could not be called");
        }
      });
      this.socket.on('close', function() {
        if ((_this.onclose != null)) {
          return _this.onclose.call(arguments);
        } else {
          return console.log("onclose was not defined so could not be called");
        }
      });
      this.socket.connect(uri);
    }

    return WebSocket;

  })();

  global.WebSocket = WebSocket;

}).call(this);
