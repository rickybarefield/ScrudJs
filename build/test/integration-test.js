// Generated by CoffeeScript 1.3.3
(function() {
  var Scrud, subscribe;

  Scrud = require("Scrud");

  require("./BrowserWebSocketEmulator");

  global.scrud = new Scrud("ws://localhost:8080/scrud-java-server-integration-test-0.0.1-SNAPSHOT/websocket");

  global.receivedMessages = [];

  subscribe = function() {
    var handleMessage;
    handleMessage = function(message) {
      console.log("received message:  " + (JSON.stringify(message.resource)));
      return receivedMessages.push(message);
    };
    global.subscriptionMessage = new scrud.Subscribe("Item");
    return subscriptionMessage.send(handleMessage, handleMessage);
  };

  scrud.connect(subscribe);

}).call(this);
